
:root {
  --bg: #080810;
  --surface: #0e0e1a;
  --surface2: #13131f;
  --border: #1f1f35;
  --border2: #2a2a45;
  --accent: #7c3aed;
  --accent-light: #a78bfa;
  --accent-glow: rgba(124,58,237,0.3);
  --green: #10b981;
  --green-light: #34d399;
  --orange: #f59e0b;
  --red: #ef4444;
  --blue: #3b82f6;
  --blue-light: #93c5fd;
  --pink: #ec4899;
  --text: #e2e8f0;
  --text2: #94a3b8;
  --text3: #475569;
  --mono: 'Space Mono', monospace;
  --display: 'DM Sans', sans-serif;
}

* { margin:0; padding:0; box-sizing:border-box; }

body {
  background: var(--bg);
  color: var(--text);
  font-family: var(--display);
  min-height: 100vh;
  overflow-x: hidden;
}

body::before {
  content:'';
  position:fixed;
  top:0; left:0; right:0; bottom:0;
  background:
    radial-gradient(ellipse 80% 40% at 10% 0%, rgba(124,58,237,0.08) 0%, transparent 60%),
    radial-gradient(ellipse 60% 40% at 90% 100%, rgba(16,185,129,0.05) 0%, transparent 60%);
  pointer-events:none;
  z-index:0;
}

/* NAV */
nav {
  position: sticky; top:0; z-index:100;
  background: rgba(8,8,16,0.85);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid var(--border);
  padding: 0 24px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 60px;
}

.logo {
  font-family: var(--mono);
  font-size: 1rem;
  font-weight: 700;
  color: var(--accent-light);
  letter-spacing: -0.5px;
}
.logo span { color: var(--text3); }

.nav-right {
  display: flex;
  align-items: center;
  gap: 16px;
}

.progress-pill {
  background: var(--surface2);
  border: 1px solid var(--border2);
  border-radius: 999px;
  padding: 4px 14px;
  font-family: var(--mono);
  font-size: 0.7rem;
  color: var(--green-light);
}

/* SEARCH */
.search-wrap {
  position: relative;
}
.search-wrap input {
  background: var(--surface2);
  border: 1px solid var(--border2);
  border-radius: 8px;
  padding: 6px 14px 6px 36px;
  color: var(--text);
  font-family: var(--display);
  font-size: 0.82rem;
  width: 200px;
  outline: none;
  transition: all 0.2s;
}
.search-wrap input:focus { border-color: var(--accent); width: 260px; }
.search-wrap input::placeholder { color: var(--text3); }
.search-icon {
  position: absolute;
  left: 10px; top: 50%;
  transform: translateY(-50%);
  color: var(--text3);
  font-size: 0.8rem;
}

/* HERO */
.hero {
  position: relative;
  z-index: 1;
  padding: 60px 24px 40px;
  max-width: 1200px;
  margin: 0 auto;
}

.hero-tag {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: rgba(124,58,237,0.1);
  border: 1px solid rgba(124,58,237,0.3);
  border-radius: 999px;
  padding: 4px 14px;
  font-family: var(--mono);
  font-size: 0.68rem;
  color: var(--accent-light);
  letter-spacing: 1px;
  text-transform: uppercase;
  margin-bottom: 20px;
}
.dot { width:6px;height:6px;border-radius:50%;background:var(--green);animation:blink 1.5s infinite; }
@keyframes blink { 0%,100%{opacity:1} 50%{opacity:0.3} }

.hero h1 {
  font-size: clamp(2rem, 5vw, 3.5rem);
  font-weight: 600;
  line-height: 1.1;
  letter-spacing: -1.5px;
  margin-bottom: 16px;
}
.hero h1 em { font-style:normal; color: var(--accent-light); }

.hero p {
  color: var(--text2);
  font-size: 1rem;
  max-width: 560px;
  line-height: 1.7;
  margin-bottom: 32px;
}

.stats-row {
  display: flex;
  gap: 32px;
  flex-wrap: wrap;
}
.stat {
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.stat-num {
  font-family: var(--mono);
  font-size: 1.6rem;
  font-weight: 700;
  color: var(--text);
}
.stat-num span { color: var(--accent-light); }
.stat-label {
  font-size: 0.72rem;
  color: var(--text3);
  text-transform: uppercase;
  letter-spacing: 1px;
}

/* FILTER BAR */
.filter-bar {
  position: relative; z-index:1;
  max-width: 1200px;
  margin: 0 auto 32px;
  padding: 0 24px;
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.filter-btn {
  padding: 6px 16px;
  border-radius: 999px;
  border: 1px solid var(--border2);
  background: transparent;
  color: var(--text2);
  font-family: var(--display);
  font-size: 0.78rem;
  cursor: pointer;
  transition: all 0.2s;
  white-space: nowrap;
}
.filter-btn:hover { border-color: var(--accent); color: var(--accent-light); }
.filter-btn.active {
  background: var(--accent);
  border-color: var(--accent);
  color: #fff;
}

/* MAIN LAYOUT */
.main {
  position: relative; z-index:1;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 24px 80px;
}

/* CATEGORY SECTION */
.category-section {
  margin-bottom: 48px;
}

.category-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 16px;
}

.category-icon {
  width: 36px; height: 36px;
  border-radius: 10px;
  display: flex; align-items:center; justify-content:center;
  font-size: 1rem;
}

.category-title {
  font-size: 1.1rem;
  font-weight: 600;
  letter-spacing: -0.3px;
}

.category-count {
  font-family: var(--mono);
  font-size: 0.68rem;
  color: var(--text3);
  background: var(--surface2);
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: 2px 10px;
}

/* PROBLEM GRID */
.problem-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 10px;
}

.problem-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 14px 16px;
  display: flex;
  align-items: center;
  gap: 12px;
  cursor: pointer;
  transition: all 0.2s;
  position: relative;
  overflow: hidden;
}

.problem-card::before {
  content:'';
  position:absolute;
  inset:0;
  background: linear-gradient(135deg, transparent 60%, rgba(124,58,237,0.04));
  opacity:0;
  transition: opacity 0.2s;
}

.problem-card:hover {
  border-color: var(--border2);
  transform: translateY(-1px);
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
}
.problem-card:hover::before { opacity:1; }

.problem-card.has-viz {
  border-color: rgba(124,58,237,0.25);
}
.problem-card.has-viz:hover {
  border-color: var(--accent);
  box-shadow: 0 4px 24px var(--accent-glow);
}

.problem-num {
  font-family: var(--mono);
  font-size: 0.65rem;
  color: var(--text3);
  min-width: 24px;
}

.problem-info { flex: 1; min-width: 0; }

.problem-name {
  font-size: 0.85rem;
  font-weight: 500;
  color: var(--text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-bottom: 3px;
}

.problem-tags {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

.tag {
  font-family: var(--mono);
  font-size: 0.58rem;
  padding: 1px 7px;
  border-radius: 999px;
  background: var(--surface2);
  border: 1px solid var(--border);
  color: var(--text3);
}

.diff-badge {
  font-family: var(--mono);
  font-size: 0.6rem;
  padding: 2px 8px;
  border-radius: 999px;
  font-weight: 700;
  flex-shrink: 0;
}
.diff-easy { background: rgba(16,185,129,0.12); color: var(--green-light); }
.diff-medium { background: rgba(245,158,11,0.12); color: var(--orange); }
.diff-hard { background: rgba(239,68,68,0.12); color: var(--red); }

.viz-badge {
  font-size: 0.65rem;
  background: rgba(124,58,237,0.2);
  border: 1px solid rgba(124,58,237,0.4);
  color: var(--accent-light);
  border-radius: 999px;
  padding: 2px 8px;
  font-family: var(--mono);
  flex-shrink: 0;
}

/* MODAL */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.85);
  backdrop-filter: blur(8px);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s;
}
.modal-overlay.open { opacity:1; pointer-events:all; }

.modal {
  background: var(--surface);
  border: 1px solid var(--border2);
  border-radius: 20px;
  width: 100%;
  max-width: 900px;
  max-height: 90vh;
  overflow-y: auto;
  transform: translateY(20px) scale(0.97);
  transition: all 0.3s cubic-bezier(0.34,1.56,0.64,1);
}
.modal-overlay.open .modal { transform: translateY(0) scale(1); }

.modal-header {
  padding: 24px 28px 20px;
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 16px;
  position: sticky; top:0;
  background: var(--surface);
  z-index:10;
  border-radius: 20px 20px 0 0;
}

.modal-title {
  font-size: 1.3rem;
  font-weight: 600;
  letter-spacing: -0.5px;
  margin-bottom: 6px;
}

.modal-meta {
  display: flex;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;
}

.modal-close {
  background: var(--surface2);
  border: 1px solid var(--border2);
  border-radius: 8px;
  width: 36px; height: 36px;
  display: flex; align-items:center; justify-content:center;
  cursor: pointer;
  color: var(--text2);
  font-size: 1.1rem;
  transition: all 0.2s;
  flex-shrink: 0;
}
.modal-close:hover { border-color: var(--red); color: var(--red); }

.modal-body { padding: 24px 28px; }

/* VISUALIZER AREA */
.viz-area {
  margin-bottom: 24px;
}

.viz-label {
  font-family: var(--mono);
  font-size: 0.65rem;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--text3);
  margin-bottom: 12px;
}

/* ===== VISUALIZERS ===== */

/* Array cells */
.arr-wrap {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
  justify-content: center;
  min-height: 70px;
  align-items: center;
  margin: 8px 0;
}

.cell {
  width: 56px; height: 56px;
  border-radius: 10px;
  border: 2px solid var(--border2);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-family: var(--mono);
  font-size: 1rem;
  font-weight: 700;
  background: var(--surface2);
  transition: all 0.35s cubic-bezier(0.34,1.56,0.64,1);
  position: relative;
}
.cell .ci { position:absolute; top:3px; font-size:0.5rem; color:var(--text3); font-weight:400; }
.cell.cur { border-color:var(--blue); background:rgba(59,130,246,0.12); color:var(--blue-light); transform:translateY(-8px) scale(1.1); box-shadow:0 8px 20px rgba(59,130,246,0.3); }
.cell.left { border-color:var(--green); background:rgba(16,185,129,0.1); color:var(--green-light); }
.cell.right { border-color:var(--pink); background:rgba(236,72,153,0.1); color:var(--pink); }
.cell.swapped { border-color:var(--orange); background:rgba(245,158,11,0.1); color:var(--orange); animation: swapPop 0.4s ease; }
.cell.found { border-color:var(--green); background:rgba(16,185,129,0.15); color:var(--green-light); box-shadow:0 0 20px rgba(16,185,129,0.3); animation:pulse 1s infinite alternate; }
.cell.pivot { border-color:var(--pink); background:rgba(236,72,153,0.15); color:var(--pink); }
.cell.sorted { border-color:var(--border2); background:rgba(16,185,129,0.06); color:var(--green-light); opacity:0.7; }

@keyframes swapPop { 0%{transform:scale(1)} 50%{transform:scale(1.15) translateY(-5px)} 100%{transform:scale(1)} }
@keyframes pulse { from{box-shadow:0 0 10px rgba(16,185,129,0.2)} to{box-shadow:0 0 28px rgba(16,185,129,0.5)} }

/* Pointers row */
.ptr-row {
  display: flex;
  gap: 6px;
  justify-content: center;
  flex-wrap: wrap;
  margin-bottom: 10px;
}
.ptr {
  font-family: var(--mono);
  font-size: 0.65rem;
  padding: 3px 10px;
  border-radius: 999px;
  border: 1px solid;
}
.ptr.L { border-color:var(--green); color:var(--green-light); background:rgba(16,185,129,0.1); }
.ptr.R { border-color:var(--pink); color:var(--pink); background:rgba(236,72,153,0.1); }
.ptr.M { border-color:var(--blue); color:var(--blue-light); background:rgba(59,130,246,0.1); }
.ptr.P { border-color:var(--orange); color:var(--orange); background:rgba(245,158,11,0.1); }
.ptr.S { border-color:var(--accent-light); color:var(--accent-light); background:rgba(124,58,237,0.1); }

/* Tracker boxes */
.trackers {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin: 12px 0;
}
.tbox {
  background: var(--surface2);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 10px 14px;
  text-align: center;
  min-width: 80px;
  transition: all 0.3s;
}
.tbox-label { font-family:var(--mono); font-size:0.58rem; letter-spacing:1.5px; text-transform:uppercase; color:var(--text3); margin-bottom:4px; }
.tbox-val { font-family:var(--mono); font-size:1.3rem; font-weight:700; }
.tbox.green { border-color:rgba(16,185,129,0.3); }
.tbox.green .tbox-val { color:var(--green-light); }
.tbox.blue { border-color:rgba(59,130,246,0.3); }
.tbox.blue .tbox-val { color:var(--blue-light); }
.tbox.orange { border-color:rgba(245,158,11,0.3); }
.tbox.orange .tbox-val { color:var(--orange); }
.tbox.purple { border-color:rgba(124,58,237,0.3); }
.tbox.purple .tbox-val { color:var(--accent-light); }
.tbox.pink { border-color:rgba(236,72,153,0.3); }
.tbox.pink .tbox-val { color:var(--pink); }
.tbox.changed { animation: tpop 0.4s cubic-bezier(0.34,1.56,0.64,1); }
@keyframes tpop { 0%{transform:scale(1)} 50%{transform:scale(1.08)} 100%{transform:scale(1)} }

/* Controls */
.viz-controls {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  align-items: center;
  margin: 16px 0;
}
.btn {
  padding: 8px 18px;
  border-radius: 8px;
  border: 1px solid var(--border2);
  font-family: var(--display);
  font-size: 0.8rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
}
.btn-primary { background:var(--accent); border-color:var(--accent); color:#fff; }
.btn-primary:hover { filter:brightness(1.15); }
.btn-secondary { background:transparent; color:var(--blue-light); }
.btn-secondary:hover { background:rgba(59,130,246,0.1); border-color:var(--blue); }
.btn-ghost { background:transparent; color:var(--text3); }
.btn-ghost:hover { color:var(--text2); border-color:var(--border2); }

.speed-wrap {
  display:flex; align-items:center; gap:8px;
  font-family:var(--mono); font-size:0.65rem; color:var(--text3);
}
input[type=range] { accent-color:var(--accent); width:90px; }

/* Step log */
.step-log {
  max-height: 150px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 5px;
}
.step-log::-webkit-scrollbar { width:3px; }
.step-log::-webkit-scrollbar-thumb { background:var(--border2); border-radius:3px; }

.log-line {
  font-family: var(--mono);
  font-size: 0.72rem;
  padding: 6px 10px;
  border-radius: 7px;
  border-left: 3px solid transparent;
  background: var(--surface2);
  color: var(--text3);
  animation: slideIn 0.25s ease;
  line-height:1.5;
}
.log-line.info { border-color:var(--blue); color:var(--text); }
.log-line.success { border-color:var(--green); color:var(--green-light); }
.log-line.highlight { border-color:var(--accent); color:var(--accent-light); }
@keyframes slideIn { from{opacity:0;transform:translateX(-8px)} to{opacity:1;transform:none} }

/* Linked list nodes */
.ll-wrap {
  display:flex; align-items:center; gap:4px;
  flex-wrap:wrap; justify-content:center;
  min-height:70px; margin:8px 0;
}
.ll-node {
  display:flex; align-items:center;
}
.ll-box {
  width:52px; height:52px;
  border-radius:10px;
  border:2px solid var(--border2);
  display:flex; align-items:center; justify-content:center;
  font-family:var(--mono); font-size:0.95rem; font-weight:700;
  background:var(--surface2);
  transition: all 0.35s cubic-bezier(0.34,1.56,0.64,1);
  position:relative;
}
.ll-box .ll-lbl {
  position:absolute; top:-18px; left:50%; transform:translateX(-50%);
  font-family:var(--mono); font-size:0.55rem; color:var(--text3); white-space:nowrap;
}
.ll-box.cur { border-color:var(--blue); background:rgba(59,130,246,0.1); color:var(--blue-light); transform:translateY(-6px); }
.ll-box.slow-p { border-color:var(--green); background:rgba(16,185,129,0.1); color:var(--green-light); }
.ll-box.fast-p { border-color:var(--pink); background:rgba(236,72,153,0.1); color:var(--pink); }
.ll-box.prev-p { border-color:var(--orange); background:rgba(245,158,11,0.1); color:var(--orange); }
.ll-box.null-node { border-style:dashed; border-color:var(--text3); color:var(--text3); font-size:0.65rem; }
.ll-arrow { color:var(--text3); font-size:1rem; margin:0 2px; }
.ll-box.found-cycle { border-color:var(--red); background:rgba(239,68,68,0.15); color:var(--red); animation:pulse-red 0.8s infinite alternate; }
@keyframes pulse-red { from{box-shadow:0 0 6px rgba(239,68,68,0.2)} to{box-shadow:0 0 20px rgba(239,68,68,0.5)} }

/* Tree */
.tree-wrap { overflow-x:auto; }
svg.tree-svg { display:block; margin:0 auto; }
.tree-edge { stroke:var(--border2); stroke-width:2; fill:none; }
.tree-node circle { fill:var(--surface2); stroke:var(--border2); stroke-width:2; transition:all 0.3s; }
.tree-node.cur circle { fill:rgba(59,130,246,0.2); stroke:var(--blue); }
.tree-node.visited circle { fill:rgba(16,185,129,0.1); stroke:var(--green); }
.tree-node.result circle { fill:rgba(124,58,237,0.2); stroke:var(--accent); }
.tree-node text { fill:var(--text); font-family:var(--mono); font-size:12px; font-weight:700; text-anchor:middle; dominant-baseline:central; }

/* Stack */
.stack-wrap { display:flex; gap:16px; align-items:flex-end; justify-content:center; min-height:120px; }
.stack-col { display:flex; flex-direction:column-reverse; gap:4px; align-items:center; }
.stack-item {
  width:80px; padding:8px;
  border-radius:8px; border:1px solid var(--border2);
  background:var(--surface2);
  text-align:center; font-family:var(--mono); font-size:0.8rem;
  transition:all 0.3s cubic-bezier(0.34,1.56,0.64,1);
  animation:stackPush 0.3s ease;
}
@keyframes stackPush { from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:none} }
.stack-item.top { border-color:var(--accent); color:var(--accent-light); background:rgba(124,58,237,0.1); }
.stack-label { font-family:var(--mono); font-size:0.6rem; color:var(--text3); margin-top:4px; letter-spacing:1px; }

/* DP Table */
.dp-table-wrap { overflow-x:auto; }
table.dp-table { border-collapse:collapse; margin:0 auto; }
table.dp-table td {
  width:42px; height:42px;
  border:1px solid var(--border2);
  text-align:center;
  font-family:var(--mono); font-size:0.82rem;
  color:var(--text2);
  transition:all 0.3s;
}
table.dp-table td.dp-cur { background:rgba(124,58,237,0.2); color:var(--accent-light); border-color:var(--accent); }
table.dp-table td.dp-filled { background:rgba(16,185,129,0.08); color:var(--green-light); }
table.dp-table td.dp-header { background:var(--surface2); color:var(--text3); font-size:0.65rem; }

/* INSTRUCTION box */
.instr {
  background: var(--surface2);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 14px 16px;
  font-size: 0.82rem;
  color: var(--text2);
  line-height: 1.7;
  margin-bottom: 16px;
}
.instr strong { color:var(--text); }
.instr code {
  font-family:var(--mono);
  font-size:0.75rem;
  background:rgba(255,255,255,0.06);
  padding:1px 6px;
  border-radius:4px;
  color:var(--accent-light);
}

/* COMING SOON */
.coming-soon {
  text-align:center;
  padding:40px 20px;
  color:var(--text3);
}
.coming-soon .cs-icon { font-size:2.5rem; margin-bottom:12px; }
.coming-soon p { font-size:0.85rem; line-height:1.7; }
.coming-soon strong { color:var(--text2); }

/* SCROLLBAR */
::-webkit-scrollbar { width:6px; height:6px; }
::-webkit-scrollbar-track { background:transparent; }
::-webkit-scrollbar-thumb { background:var(--border2); border-radius:3px; }

/* RESPONSIVE */
@media(max-width:600px) {
  .hero h1 { font-size:1.8rem; }
  .problem-grid { grid-template-columns:1fr; }
  .modal { border-radius:16px 16px 0 0; margin-top:auto; }
  .modal-body { padding:16px 18px; }
  .cell { width:46px; height:46px; font-size:0.85rem; }
}

/* ===========================
   React App Additional Styles
   =========================== */

.section { margin-bottom: 52px; }
.section-header { display:flex; align-items:center; gap:10px; margin-bottom:16px; padding-bottom:12px; border-bottom:1px solid var(--border); }
.section-icon { font-size:1.3rem; }
.section-name { font-size:1.1rem; font-weight:600; color:var(--text); }
.section-count { font-size:0.72rem; color:var(--text3); font-family:var(--mono); margin-left:auto; }
.cards-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:14px; }
.empty-state { text-align:center; color:var(--text3); padding:80px 20px; font-size:1rem; }
.filter-sep { width:1px; height:28px; background:var(--border2); margin:0 4px; flex-shrink:0; }
.step-counter { font-family:var(--mono); font-size:0.72rem; color:var(--text3); margin-left:auto; }

/* Viz modal display */
.modal-overlay { display:none; }
.modal-overlay.open { display:flex; }

/* Viz description */
.viz-desc { font-size:0.82rem; color:var(--text2); line-height:1.65; margin-bottom:14px; padding:10px 14px; background:var(--surface2); border-radius:8px; border-left:3px solid var(--accent); }
.viz-desc code { font-family:var(--mono); font-size:0.78rem; color:var(--accent-light); background:rgba(124,58,237,0.12); padding:1px 5px; border-radius:3px; }

/* Preset buttons */
.preset-row { display:flex; align-items:center; gap:6px; margin-bottom:12px; flex-wrap:wrap; }
.preset-label { font-size:0.72rem; color:var(--text3); font-family:var(--mono); }
.preset-btn { padding:3px 10px; border-radius:5px; border:1px solid var(--border2); background:var(--surface2); color:var(--text2); font-family:var(--mono); font-size:0.7rem; cursor:pointer; transition:all 0.15s; }
.preset-btn:hover { border-color:var(--accent); color:var(--accent-light); background:rgba(124,58,237,0.08); }

/* No-viz state */
.no-viz { text-align:center; color:var(--text3); padding:60px 20px; }

/* Difficulty filter colors */
.diff-btn.easy { color:var(--green-light); }
.diff-btn.easy.active { border-color:var(--green); background:rgba(16,185,129,0.08); color:var(--green-light); }
.diff-btn.medium { color:var(--orange); }
.diff-btn.medium.active { border-color:var(--orange); background:rgba(245,158,11,0.08); color:var(--orange); }
.diff-btn.hard { color:var(--red); }
.diff-btn.hard.active { border-color:var(--red); background:rgba(239,68,68,0.08); color:var(--red); }

/* Viz area helpers */
.viz-area { margin-top:12px; }
.viz-label { font-size:0.65rem; color:var(--text3); font-family:var(--mono); text-transform:uppercase; letter-spacing:0.08em; margin-bottom:4px; }

/* Step log */
.step-log { max-height:110px; overflow-y:auto; display:flex; flex-direction:column; gap:3px; margin-top:8px; }
.log-line { font-family:var(--mono); font-size:0.7rem; padding:3px 8px; border-radius:4px; color:var(--text2); background:var(--surface2); border-left:2px solid var(--border2); }
.log-line.success { border-left-color:var(--green); color:var(--green-light); background:rgba(16,185,129,0.05); }
.log-line.highlight { border-left-color:var(--accent); color:var(--accent-light); background:rgba(124,58,237,0.05); }

/* Tracker boxes */
.trackers { display:flex; gap:10px; flex-wrap:wrap; margin:10px 0; }
.tbox { padding:6px 12px; border-radius:8px; border:1.5px solid var(--border2); min-width:70px; text-align:center; }
.tbox.green { border-color:var(--green); } .tbox.green .tbox-val { color:var(--green-light); }
.tbox.blue { border-color:var(--blue); } .tbox.blue .tbox-val { color:var(--blue-light); }
.tbox.pink { border-color:var(--pink); } .tbox.pink .tbox-val { color:var(--pink); }
.tbox.orange { border-color:var(--orange); } .tbox.orange .tbox-val { color:var(--orange); }
.tbox.purple { border-color:var(--accent); } .tbox.purple .tbox-val { color:var(--accent-light); }
.tbox-label { font-size:0.6rem; color:var(--text3); font-family:var(--mono); text-transform:uppercase; letter-spacing:0.05em; }
.tbox-val { font-size:1.1rem; font-family:var(--mono); font-weight:700; color:var(--text); margin-top:2px; }

/* Linked list styles */
.ll-wrap { display:flex; align-items:center; flex-wrap:wrap; gap:0; margin:4px 0; min-height:48px; }
.ll-node { display:flex; align-items:center; }
.ll-box { width:46px; height:38px; border-radius:8px; border:2px solid var(--border2); display:flex; align-items:center; justify-content:center; font-family:var(--mono); font-size:0.82rem; color:var(--text2); transition:all 0.25s; }
.ll-arrow { color:var(--text3); font-size:1rem; padding:0 2px; }
.ll-box.slow-p { border-color:var(--green); color:var(--green-light); background:rgba(16,185,129,0.08); }
.ll-box.fast-p { border-color:var(--accent); color:var(--accent-light); background:rgba(124,58,237,0.08); }
.ll-box.cur { border-color:var(--blue); color:var(--blue-light); background:rgba(59,130,246,0.08); }

/* DP Table */
.dp-table-wrap { overflow-x:auto; max-width:100%; }
.dp-table { border-collapse:collapse; font-family:var(--mono); font-size:0.72rem; }
.dp-table td { padding:5px 8px; border:1px solid var(--border2); text-align:center; min-width:32px; color:var(--text2); }
.dp-header { background:var(--surface2) !important; color:var(--text3) !important; font-weight:600; }
.dp-filled { color:var(--text) !important; }
.dp-cur { background:rgba(124,58,237,0.15) !important; color:var(--accent-light) !important; border-color:var(--accent) !important; font-weight:700; }

/* ── Card (ProblemCard) ─────────────────────────────────── */
.card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 16px;
  cursor: pointer;
  transition: all 0.2s;
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.card::before {
  content:'';
  position:absolute;
  inset:0;
  background: linear-gradient(135deg, transparent 60%, rgba(124,58,237,0.04));
  opacity:0;
  transition: opacity 0.2s;
}
.card:hover { border-color: var(--border2); transform: translateY(-2px); box-shadow: 0 6px 24px rgba(0,0,0,0.3); }
.card:hover::before { opacity: 1; }
.card.has-viz { border-color: rgba(124,58,237,0.3); }
.card.has-viz:hover { border-color: var(--accent); box-shadow: 0 6px 28px var(--accent-glow); }

.card-top { display:flex; align-items:center; justify-content:space-between; gap:8px; }
.card-num { font-family:var(--mono); font-size:0.65rem; color:var(--text3); }
.card-badges { display:flex; gap:6px; align-items:center; flex-wrap:wrap; }
.card-name { font-size:0.88rem; font-weight:500; color:var(--text); line-height:1.4; }
.card-tags { display:flex; gap:5px; flex-wrap:wrap; }
.card-cta { font-family:var(--mono); font-size:0.65rem; color:var(--accent-light); opacity:0.8; }

/* Badge (alias for diff-badge) */
.badge { font-family:var(--mono); font-size:0.6rem; padding:2px 8px; border-radius:999px; font-weight:700; flex-shrink:0; }

/* Presets row inside modal */
.presets-row { display:flex; align-items:center; gap:6px; margin-bottom:12px; flex-wrap:wrap; }
.presets-label { font-size:0.65rem; color:var(--text3); font-family:var(--mono); letter-spacing:1px; }
